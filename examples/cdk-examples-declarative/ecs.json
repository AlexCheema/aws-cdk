{
  "$schema": "./cdk.schema.json",
  "Resources": {
    "VPC": {
      "Type": "@aws-cdk/aws-ec2.VpcNetwork",
      "Properties": {
        "maxAZs": 1
      }
    },
    "Cluster": {
      "Type": "@aws-cdk/aws-ecs.Cluster",
      "Properties": {
        "vpc": { "Ref": "VPC" }
      }
    },
    "MyTaskDef": {
      "Type": "@aws-cdk/aws-ecs.Ec2TaskDefinition",
      "Properties": {
        "family": "redis"
      }
    },
    "Service": {
      "Type": "@aws-cdk/aws-ecs.Ec2Service",
      "Properties": {
        "cluster": { "Ref": "Cluster" },
        "taskDefinition": { "Ref": "MyTaskDef" }
      }
    }
  }
}
