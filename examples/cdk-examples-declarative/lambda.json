{
  "$schema": "./cdk.schema.json",
  "Resources": {
    "MyTopic": {
      "Type": "@aws-cdk/aws-sns.Topic"
    },
    "Table": {
      "Type": "@aws-cdk/aws-dynamodb.SimpleTable",
      "Properties": {
        "streamSpecification": "NewAndOldImages"
      }
    },
    "Handler": {
      "Type": "@aws-cdk/aws-lambda.Function",
      "Properties": {
        "handler": "index.handler",
        "runtime": "NodeJS810",
        "code": {
          "asset": { "path": "./src" }
        },
        "events": [
          { "DynamoEventSource": { "table": { "Ref": "Table" }, "props": { "startingPosition": "TrimHorizon" } } },
          { "ApiEventSource": { "method": "GET", "path": "/hello" } },
          { "ApiEventSource": { "method": "POST", "path": "/hello" } },
          { "SnsEventSource": { "topic": { "Ref": "MyTopic" } } }
        ]
      }
    }
  }
}