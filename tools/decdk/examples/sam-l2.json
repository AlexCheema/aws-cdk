{
  "$schema": "./cdk.schema.json",
  "Resources": {
    "HelloWorldFunction": {
      "Type": "@aws-cdk/aws-lambda.Function",
      "Properties": {
        "handler": "index.handler",
        "runtime": "NodeJS810",
        "code": {
          "asset": { "path": "./src" }
        },
        "events": [
          { "ApiEventSource": { "path": "/hello", "method": "GET" } },
          { "ApiEventSource": { "path": "/hi/there", "method": "POST" } }
        ]
      }
    },
    "Table": {
      "Type": "@aws-cdk/aws-dynamodb.Table",
      "Properties": {
        "partitionKey": {
          "name": "ID",
          "type": "String"
        }
      }
    }
  },
  "Outputs": {
    "HelloWorldApi": {
      "Description": "API Gateway endpoint URL for Prod stage for Hello World function",
      "Value": { "Fn::GetAtt": [ "HelloWorldFunction", "url" ] }
    }
  }
}